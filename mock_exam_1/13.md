# Mock Exam 1 - Question 13

## Question 13: Pod Quality of Service (QoS) Classes

### Pod with Burstable QoS Class

```yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: ckad17-qos-aecs-3
  name: ckad17-qos-aecs-3
  namespace: ckad17-nqoss-aecs
spec:
  containers:
  - image: nginx
    name: ckad17-qos-ctr-3-aecs
    resources:
      requests:
        memory: "64Mi"
        cpu: "50m"
      limits:
        memory: "128Mi"
        cpu: "100m"
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}
```

### Verify QoS Class

```bash
k get pod ckad17-qos-aecs-3 -n ckad17-nqoss-aecs -o jsonpath='{.metadata.name} {.status.qosClass}'
# Output: ckad17-qos-aecs-3 Burstable
```

### Check All Pods QoS Status

```bash
kubectl get pods -n ckad17-nqoss-aecs -o custom-columns="NAME:.metadata.name,QOS:.status.qosClass" > /root/qos_status_aecs
```

**Output:**

```text
NAME                QOS
ckad17-qos-aecs-1   BestEffort
ckad17-qos-aecs-2   Guaranteed
ckad17-qos-aecs-3   Burstable
```

## Explanation

### ðŸ”¹ How QoS Classes Are Decided

Kubernetes assigns each Pod a **Quality of Service (QoS)** class automatically based on how you set resource requests and limits.

- **Requests** = guaranteed minimum resources reserved for the container
- **Limits** = the maximum resources the container can use

There are 3 possible classes:

| QoS Class | Rule |
|-----------|------|
| **Guaranteed** | Every container in the Pod has CPU and memory requests == limits |
| **BestEffort** | No requests or limits are set for any container |
| **Burstable** | Everything in between â†’ at least 1 request is set, but not all are equal to their limits |

### What Burstable Means

- Pod is **guaranteed** at least the requested resources
- Pod can **use more** up to its limits if resources are available on the node
- If the node is under resource pressure, Pods with **Guaranteed** QoS are protected first. **Burstable** Pods may be throttled or evicted before Guaranteed ones, but after BestEffort

So **Burstable** = *"I need a little bit reserved, but I can burst up if there's room."*

### ðŸ”¹ Example of Burstable

```yaml
resources:
  requests:
    cpu: 50m       # guaranteed
    memory: 64Mi   # guaranteed
  limits:
    cpu: 200m      # max
    memory: 128Mi  # max
```

Here, the Pod always gets **50 millicores + 64Mi minimum**.

It may burst up to **200 millicores + 128Mi** if the node has spare capacity.
