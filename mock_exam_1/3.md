# Mock Exam 1 - Question 3

## Question 3: CronJob

In the `ckad-job` namespace, create a cronjob named `simple-node-job` to run every 30 minutes to list all the running processes inside a container that used node image (the command needs to be run in a shell).

In Unix-based operating systems, `ps -eaf` can be use to list all the running processes.

### Solution:

```bash
kubectl create cronjob simple-node-job --image=node --schedule="*/30 * * * *" --dry-run=client -o yaml > cj.yaml
```

```yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: simple-node-job
  namespace: ckad-job
spec:
  jobTemplate:
    metadata:
      name: simple-node-job
    spec:
      template:
        spec:
          containers:
          - image: node
            name: simple-node-job
            command: ["/bin/sh", "c"]
            args: ["ps -eaf"]
            resources: {}
          restartPolicy: OnFailure
  schedule: '*/30 * * * *'
status: {}
```